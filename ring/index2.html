<!DOCTYPE html>
<!-- saved from url=(0035)https://magicly.me/orientation.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <style>
    #content {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: #ccc;
    }

    #content p {
      margin: auto;
      margin-top: 20px;
      text-align: center;
    }
    img {
      width: 100px;
    }
  </style>
  <title>Document</title>
</head>

<body>
  <div id="content" style="width: 736px; height: 414px; top: 161px; left: -161px; transform: rotate(90deg);">
    <p>谁说html5不能横屏的。。。</p>
    <p>我就是要横屏。。。</p>
    <p>要横屏。。。</p>
    <p>横屏。。。</p>
    <p>屏。。。</p>
    <p>图片也是可以的。<img src="https://avatars0.githubusercontent.com/u/7811369?v=4&s=220"></p>
  </div>


<script>
  // const width = document.documentElement.clientWidth;
  // const height = document.documentElement.clientHeight;
  // if (width < height) {
  //   console.log(width + " " + height);
  //   const contentDOM = document.getElementById('content');
  //   contentDOM.style.width = height + 'px';
  //   contentDOM.style.height = width + 'px';
  //   contentDOM.style.top = (height - width) / 2 + 'px';
  //   contentDOM.style.left = 0 - (height - width) / 2 + 'px';
  //   contentDOM.style.transform = 'rotate(90deg)';
  // }
  // const evt = "onorientationchange" in window ? "orientationchange" : "resize";
  // window.addEventListener(evt, function () {
  //   const width = document.documentElement.clientWidth;
  //   const height = document.documentElement.clientHeight;
  //   const contentDOM = document.getElementById('content');
  //   // alert('width: ' + width + ' height: ' + height)
  //   if (width > height) { // 横屏
  //     contentDOM.style.width = width + 'px';
  //     contentDOM.style.height = height + 'px';
  //     contentDOM.style.top = '0px';
  //     contentDOM.style.left = '0px';
  //     contentDOM.style.transform = 'none';
  //   }
  //   else { // 竖屏，这里微信应该由bug，我切换为竖屏的时候，width:375, height: 323, 导致不能旋转角度。 在safari、chrome上是正确的。
  //     // alert('change to portrait')
  //     contentDOM.style.width = height + 'px';
  //     contentDOM.style.height = width + 'px';
  //     contentDOM.style.top = (height - width) / 2 + 'px';
  //     contentDOM.style.left = 0 - (height - width) / 2 + 'px';
  //     contentDOM.style.transform = 'rotate(90deg)';
  //   }

  // }, false);
  // var _Sheight =  screen.height; //屏幕的高度
  // var _Swidth = screen.width;
  // var _SMAX = Math.max(_Sheight,_Swidth);

  // const _width = document.documentElement.clientWidth;
  // const _height = document.documentElement.clientHeight;
  const contentDOM = document.getElementById('content');

  // const height = Math.max(_width,_height);
  // const width = Math.min(_width,_height);
  // alert('屏幕的宽高：('+_Swidth+","+_Sheight+")");
  var orientationFun = function(){

    const width = document.documentElement.clientWidth;
    const height = document.documentElement.clientHeight;
    alert('屏幕的宽高：('+width+","+height+")");
    // alert('width: ' + width + ' height: ' + height)
    if (window.orientation == 90 || window.orientation == -90 ) { // 横屏
      alert("横屏"+window.orientation);
    // if (width > height) { // 横屏
      contentDOM.style.width = width + 'px';
      contentDOM.style.height = height + 'px';
      // contentDOM.style.width = _SMAX + 'px';
      // contentDOM.style.height = width + 'px';
      contentDOM.style.top = '0px';
      // contentDOM.style.top = (height - width) / 2 + 'px';;
      contentDOM.style.left = '0px';
      // contentDOM.style.left = 0 + (height - width) / 2 + 'px';
      contentDOM.style.transform = 'none';
    }
    // else{
    if(window.orientation == 180 || window.orientation == 0) { // 竖屏，这里微信应该由bug，我切换为竖屏的时候，width:375, height: 323, 导致不能旋转角度。 在safari、chrome上是正确的。
      // alert('change to portrait')
      alert("竖屏"+window.orientation);
      contentDOM.style.width = height + 'px';
      contentDOM.style.height = width + 'px';
      // contentDOM.style.height = _Swidth + 'px';
      contentDOM.style.top = (height - width) / 2 + 'px';
      contentDOM.style.left = 0 - (height - width) / 2 + 'px';
      contentDOM.style.transform = 'rotate(90deg)';
    }
  }
  window.addEventListener("onorientationchange" in window ? "orientationchange" : "resize", function() {
    orientationFun();
  }, false);
  orientationFun();
</script>

</body>
</html>